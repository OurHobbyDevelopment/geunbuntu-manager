# 파일 권한 

리눅스는 파일 권한이 매우매우 빡세다. 파일의 권한을 소유자와 그룹, 그외 사용자로 구분하고 이를 엄격하게 엄수한다. 때문에 보안이 강력하다는 강점을 가지고 있는데.. 인간의 욕심은 그득그득 거리어서 더욱 편리하게 파일 관리를 해주었으면 하는 생각이 무럭무럭 피어오른다. 때문에 이를 C코드로 구현하였다.

## <sys/stat.h>

파일의 크기, 파일의 권한, 파일의 생성일시, 파일의 최정 변경일 등 파일의 상태나 파일의 정보를 얻는 함수이다. **stat(2) 함수는 symbolic link인 파일을 path로 넘기면 그 원본 파일의 정보를 얻는다.** lstat(2) 함수는 symbolic link 파일 자신의 정보를 얻는다. 나머지 기능은 동일하다.

이 함수는 우리가 가장 많이 사용하는 명령어 중 하나인 `ls -al` 명령어로 알 수 있는 내용들을 대부분 있다. `stat(1)` 명령어도 이 `stat(2)`와 비슷한 내용임을 알 수 있다.

### 사용자 명령어와 시스템 콜

여기서 짚고 넘겨야 할 부분은 stat(1),(2)의 부분이다. 1과 2는 무슨 차이점일까? 
- **사용자 수준 명령어 (`stat(1)`, `ls` 등):**
  - 사용자가 콘솔이나 터미널에서 직접 실행하는 명령들
  - 이들은 주로 파일 및 디렉터리의 메타데이터를 사용자 친화적인 형태로 제공함
  - 예를 들어, `ls -l` 명령은 현재 디렉터리의 파일 목록과 각 파일의 상세 정보를 나열한다.
- **시스템 콜(`stat(2)`, `lstat(2)` 등):**
  - 프로그래밍에서 직접 호출되는 함수들로, C 라이브러리에서 제공된다.
  - 이들은 파일 및 디렉터리의 메타데이터를 프로그램 내에서 직접 처리할 수 있도록 한다.
  - **`stat(2)`** 및 **`lstat(2)`** 는 파일 경로를 받아 해당 파일의 메타데이터를 얻는 시스템 콜이다. 참고로 `lstat`는 심볼릭 링크의 경우 링크 자체의 정보를 반환하며, `stat`는 심볼릭 링크가 가리키는 파일의 정보를 반환한다.

사용자 명령어는 주로 사용자 편의를 위해 디자인되었고, 시스템 콜은 프로그램이 더 직접적으로 시스템과 상호작용할 수 있도록 제공해주는 것을 말한다.

